import styles from './MainImage.module.css'
import image from '../../assets/images/mainImage.jpg'
import { useState } from 'react'
import { useEffect } from 'react';

function MainImage() {

  const [isMobile, setIsMobile] = useState(false);
  
  useEffect(() => {
    const mediaQuery = window.matchMedia('(max-width: 414px)');
    setIsMobile(mediaQuery.matches);

    const handleResize = (e) => setIsMobile(e.matches);
    mediaQuery.addEventListener('change', handleResize);

    return () => mediaQuery.removeEventListener('change', handleResize);

  }, [])

  const mobilePath = "M1.17344 146.098L1.17333 146.098C-2.70165 122.657 10.6854 96.6188 27.5984 74.7092L27.6014 74.7051C44.2887 52.625 63.975 34.803 86.6572 21.6352C109.343 8.46515 135.007 0.162952 160.396 0.510521L160.4 0.510544C185.786 0.656918 210.942 9.65318 232.66 23.479C254.171 37.3003 272.21 56.3322 283.169 78.3276L283.171 78.3308C292.478 96.6756 297.151 117.086 302.457 140.259C303.52 144.901 304.608 149.653 305.763 154.521C306.37 157.096 306.997 159.699 307.628 162.322C310.598 174.659 313.673 187.435 315.309 199.811C317.293 214.816 317.148 229.158 312.167 241.334C307.189 253.406 297.401 263.333 285.223 271.821C273.047 280.308 258.522 287.33 244.123 293.608C215.125 306.163 186.8 315.871 157.535 317.313C128.448 318.758 98.3005 311.922 80.1335 293.375C70.9466 283.997 64.6726 271.608 58.9088 258.248C57.3175 254.559 55.7646 250.795 54.1998 247.002C50.1082 237.084 45.9351 226.968 40.7822 217.493C35.737 208.082 29.687 199.256 23.8426 190.729C21.552 187.387 19.293 184.091 17.1385 180.824C9.46751 169.193 3.11019 157.918 1.17344 146.098Z";
  const desktopPath = "M2.72544 276.071L2.72533 276.071C-4.61133 231.708 20.7309 182.514 52.6224 141.218L52.6255 141.214C84.1132 99.5677 121.265 65.9464 164.076 41.1036C206.89 16.2586 255.345 0.58433 303.3 1.24055L303.304 1.24058C351.259 1.51696 398.758 18.5025 439.75 44.5875C480.356 70.6671 514.418 106.585 535.116 148.109L535.118 148.112C552.69 182.73 561.512 221.251 571.513 264.915C573.515 273.657 575.565 282.605 577.741 291.77C578.884 296.616 580.064 301.517 581.254 306.456C586.852 329.702 592.656 353.804 595.743 377.147C599.486 405.45 599.222 432.566 589.79 455.614C580.362 478.467 561.835 497.231 538.845 513.25C515.856 529.268 488.443 542.513 461.294 554.346C406.618 578.007 353.168 596.323 297.924 599.046C243.037 601.771 186.056 588.885 151.685 553.808L151.327 554.158L151.685 553.808C134.307 536.076 122.454 512.668 111.586 487.487C108.581 480.523 105.65 473.422 102.698 466.27C94.9885 447.589 87.1359 428.562 77.4346 410.731C67.9365 393.023 56.5535 376.422 45.5416 360.363C41.2207 354.061 36.9569 347.843 32.8866 341.674C18.4237 319.753 6.39252 298.441 2.72544 276.071Z";

  return (
    <div className={styles.ctImage}>
      <svg width="0" height="0">
        <defs>
          <clipPath id="clipShape">
            <path d={isMobile ? mobilePath : desktopPath} />
          </clipPath>
        </defs>
      </svg>
      <img src={image} alt="Estela Julia" className={styles.image} />
    </div>
  )
}

export default MainImage